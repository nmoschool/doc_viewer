<!DOCTYPE html>

<html lang="ar" dir="rtl">

  <head>

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Ù…Ø³ØªØ¹Ø±Ø¶ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø¯Ø±Ø³Ø© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ø¨Ø¬Ø§Ø¯ÙŠØ©</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link

      rel="stylesheet"

      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"

    />

    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <link

      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap"

      rel="stylesheet"

    />

    <style>

      /* --- 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­) --- */

      :root {

        --primary-color: #007bff;

        --secondary-color: #1a73e8;

        --bg-color: #f4f7f6;

        --panel-bg: #ffffff;

        --border-color: #e0e4e7;

        --text-color: #333d47;

        --light-text: #707b85;

        --hover-bg: #f0f3f5;

        --shadow-elevation: 0 4px 12px rgba(0, 0, 0, 0.05);

        --icon-color-pdf: #e63946;

        --icon-color-doc: #2196f3;

        --icon-color-xls: #4caf50;

        --icon-color-ppt: #ff9800;

        --icon-color-img: #9c27b0;

        --icon-color-txt: #607d8b;

        --icon-color-html: #f36f21;

        --icon-color-video: #e91e63;

        --icon-color-audio: #00bcd4;

      }



      /* --- 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† (Dark Mode) --- */

      body.dark-mode {

        --bg-color: #121212;

        --panel-bg: #1e1e1e;

        --border-color: #333333;

        --text-color: #e0e0e0;

        --light-text: #b0b0b0;

        --hover-bg: #2a2a2a;

        --shadow-elevation: 0 4px 12px rgba(0, 0, 0, 0.4);

      }

      /* ØªØ·Ø¨ÙŠÙ‚ Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */

      body.dark-mode #file-filter,

      body.dark-mode #search-input {

        background-color: #2a2a2a;

        border-color: #444;

        color: var(--text-color);

      }

      body.dark-mode #file-filter:focus,

      body.dark-mode #search-input:focus {

        background-color: #1e1e1e;

      }

      /* ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø®Ù„ÙÙŠØ© */

      body.dark-mode #dark-mode-toggle i {

        color: var(--text-color);

      }



      body {

        font-family: "Cairo", sans-serif;

        margin: 0;

        background-color: var(--bg-color);

        color: var(--text-color);

        display: flex;

        height: 100vh;

        overflow: hidden;

        transition: background-color 0.3s, color 0.3s; /* Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ */

      }

      .container {

        display: flex;

        width: 100%;

        height: 100%;

      }

      .sidebar {

        width: 380px;

        min-width: 320px;

        background-color: var(--panel-bg);

        border-left: 1px solid var(--border-color);

        display: flex;

        flex-direction: column;

        box-shadow: var(--shadow-elevation);

        transition: width 0.3s ease, background-color 0.3s, border-color 0.3s;

      }

      .sidebar-header {

        padding: 20px 25px;

        border-bottom: 1px solid var(--border-color);

        display: flex; /* Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */

        flex-direction: column;

      }

      /* --- 3. ØªÙ†Ø³ÙŠÙ‚ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø£Ø³ (Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ) --- */

      .sidebar-header .top-row {

        display: flex;

        justify-content: space-between;

        align-items: center;

        margin-bottom: 15px;

      }

      .sidebar-header h3 {

        margin: 0;

        font-size: 1.6em;

        font-weight: 700;

        color: var(--text-color);

      }

      /* Ø²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */

      #dark-mode-toggle {

        width: 40px;

        height: 40px;

        padding: 0;

        background: none;

        color: var(--text-color);

        box-shadow: none;

        border: 1px solid var(--border-color);

        border-radius: 50%;

        cursor: pointer;

        transition: background-color 0.2s, color 0.2s;

      }

      #dark-mode-toggle i {

        margin: 0;

        font-size: 1.1em;

        color: var(--text-color);

      }

      #dark-mode-toggle:hover {

        background: var(--hover-bg);

      }

      /* ------------------------------------------------ */



      #file-filter,

      #search-input {

        width: 100%;

        padding: 12px 15px;

        border-radius: 8px;

        border: 1px solid var(--border-color);

        font-family: "Cairo", sans-serif;

        font-size: 1em;

        box-sizing: border-box;

        transition: border-color 0.2s, box-shadow 0.2s, background-color 0.3s,

          color 0.3s;

        background-color: var(--hover-bg);

        color: var(--text-color);

      }

      #search-input {

        margin-top: 10px;

      }

      #file-filter:focus,

      #search-input:focus {

        outline: none;

        border-color: var(--primary-color);

        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);

        background-color: var(--panel-bg);

      }

      #search-input::placeholder {

        color: var(--light-text);

        font-weight: 300;

      }

      .table-container {

        overflow-y: auto;

        flex-grow: 1;

        padding: 0 15px;

        position: relative;

        mask-image: linear-gradient(to bottom, black 90%, transparent 100%);

        -webkit-mask-image: linear-gradient(

          to bottom,

          black 90%,

          transparent 100%

        );

      }



      #file-table {

        width: 100%;

        border-collapse: separate;

        border-spacing: 0 8px;

        margin-top: 10px;

      }

      #file-table thead th {

        display: none;

      }

      #file-table tbody tr {

        cursor: pointer;

        background-color: var(--panel-bg);

        border-radius: 8px;

        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);

        transition: background-color 0.2s ease, transform 0.2s ease,

          box-shadow 0.2s ease;

      }

      #file-table tbody tr:hover:not(.folder-header) {

        background-color: var(--hover-bg);

        transform: translateY(-2px);

        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);

      }

      #file-table tbody tr.active {

        background-color: var(--primary-color);

        color: white;

        font-weight: 600;

        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);

      }

      #file-table tbody tr.active i {

        color: white !important;

      }

      #file-table td {

        padding: 15px 12px;

        vertical-align: middle;

        font-size: 1em;

        border-radius: 8px;

      }

      #file-table td.col-seq {

        width: 30px;

        text-align: center;

        color: var(--light-text);

        font-weight: 600;

      }

      #file-table tbody tr.active td.col-seq {

        color: rgba(255, 255, 255, 0.8) !important;

      }



      #file-table td.col-name {

        white-space: normal;

        word-wrap: break-word;

        font-weight: 400;

        flex-grow: 1;

      }

      #file-table td.col-type {

        width: 40px;

        text-align: center;

      }

      #file-table td.col-type i {

        font-size: 1.6em;

        transition: color 0.2s;

      }



      /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© (Accordion) --- */

      #file-table tbody tr.folder-header {

        background-color: var(--panel-bg);

        box-shadow: none;

        cursor: pointer;

        margin-top: 15px; /* Ù…Ø³Ø§ÙØ© Ø£ÙƒØ¨Ø± Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª */

      }

      #file-table tbody tr.folder-header:hover {

        background-color: var(--hover-bg);

        transform: none;

        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);

      }

      .folder-header-content {

        padding: 10px 15px !important;

      }

      .folder-title {

        display: flex;

        align-items: center;

        font-size: 1.15em;

        font-weight: 700;

        color: var(--primary-color);

      }

      .folder-title .arrow-icon {

        margin-left: 10px;

        transition: transform 0.3s ease;

        font-size: 0.8em;

        color: var(--light-text);

      }

      .folder-title .folder-icon {

        margin-left: 10px;

        color: #f7a01a; /* Ù„ÙˆÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø¬Ù„Ø¯ */

        font-size: 1.2em;

      }

      .folder-title .file-count {

        font-size: 0.9em;

        font-weight: 400;

        color: var(--light-text);

        margin-right: 10px;

      }

      /* Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…ÙØªÙˆØ­ (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: Ø§Ù„Ø£ÙˆÙ„ ÙŠÙƒÙˆÙ† Ù…ÙØªÙˆØ­Ø§Ù‹) */

      #file-table tr.folder-header[data-is-expanded="true"] .arrow-icon {

        transform: rotate(-90deg);

      }

      /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‡Ø§Ù…Ø´ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù„Ø£ÙˆÙ„ Ù…Ø¬Ù„Ø¯ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */

      #file-list tr:first-child.folder-header {

        margin-top: 0;

      }

      /* --- Ù†Ù‡Ø§ÙŠØ© ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© --- */



      .main-content {

        flex-grow: 1;

        padding: 30px;

        display: flex;

        flex-direction: column;

        overflow: hidden;

      }

      .viewer-controls {

        margin-bottom: 20px;

        display: flex;

        justify-content: space-between;

        align-items: center;

        flex-wrap: wrap;

      }



      .header-info {

        display: flex;

        align-items: baseline;

        flex-wrap: wrap;

        flex-grow: 1;

      }

      .viewer-controls h2 {

        margin: 0 10px 0 0;

        font-size: 1.5em;

        font-weight: 600;

        color: var(--text-color);

      }

      .programmer-credit {

        font-size: 1em;

        font-weight: 400;

        color: var(--light-text);

        white-space: nowrap;

      }



      #download-btn {

        display: none;

        align-items: center;

        justify-content: center;

        padding: 10px 20px;

        background-color: var(--primary-color);

        color: white;

        text-decoration: none;

        border-radius: 25px;

        font-size: 1em;

        font-weight: 600;

        transition: background-color 0.3s ease, transform 0.2s ease,

          box-shadow 0.3s ease;

        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);

      }

      #download-btn i {

        margin-left: 10px;

        font-size: 1.1em;

      }

      #download-btn:hover {

        background-color: var(--secondary-color);

        box-shadow: 0 6px 15px rgba(0, 123, 255, 0.3);

        transform: translateY(-1px);

      }



      #viewer {

        flex-grow: 1;

        background: var(--panel-bg);

        border: 1px solid var(--border-color);

        border-radius: 12px;

        box-shadow: var(--shadow-elevation);

        position: relative;

        display: flex;

        justify-content: center;

        align-items: center;

        overflow: hidden;

        transition: background-color 0.3s, border-color 0.3s;

      }

      #viewer iframe {

        width: 100%;

        height: 100%;

        border: none;

        background-color: var(--panel-bg);

      }

      .loader-message {

        font-size: 1.3em;

        color: var(--light-text);

        font-weight: 400;

        text-align: center;

        padding: 20px;

      }

      #viewer img {

        max-width: 100%;

        max-height: 100%;

        object-fit: contain;

        border-radius: 10px;

      }



      .footer {

        padding: 15px 0 0 0;

        text-align: center;

        font-size: 0.85em;

        color: var(--light-text);

        border-top: 1px solid var(--border-color);

        margin-top: 20px;

      }

      .footer p {

        margin: 4px 0;

      }

      .footer a {

        color: var(--secondary-color);

        text-decoration: none;

        font-weight: 600;

        transition: color 0.2s;

      }

      .footer a:hover {

        color: var(--primary-color);

      }



      @media (max-width: 768px) {

        .container {

          flex-direction: column;

        }

        .sidebar {

          width: 100%;

          height: 50%;

          min-height: 250px;

          border-left: none;

          border-bottom: 1px solid var(--border-color);

        }

        .main-content {

          padding: 20px;

          flex-grow: 1;

        }

        .table-container {

          padding: 0 10px;

        }

        .viewer-controls {

          flex-direction: column;

          align-items: flex-start;

        }

        .header-info {

          flex-direction: column;

          align-items: flex-start;

          margin-bottom: 10px;

        }

        .viewer-controls h2 {

          font-size: 1.3em;

          margin: 0 0 5px 0;

        }

        .programmer-credit {

          font-size: 0.9em;

        }

        .sidebar::after {

          content: "\f078";

          font-family: "Font Awesome 6 Free";

          font-weight: 900;

          position: absolute;

          bottom: 0;

          left: 50%;

          transform: translateX(-50%);

          color: var(--primary-color);

          animation: bounce 2s infinite;

          pointer-events: none;

        }

      }

      @keyframes bounce {

        0%,

        20%,

        50%,

        80%,

        100% {

          transform: translateX(-50%) translateY(0);

        }

        40% {

          transform: translateX(-50%) translateY(5px);

        }

        60% {

          transform: translateX(-50%) translateY(2px);

        }

      }



      /* Spinner Styles */

      .spinner {

        border: 4px solid rgba(0, 0, 0, 0.1);

        width: 40px;

        height: 40px;

        border-radius: 50%;

        border-left-color: var(--primary-color);

        animation: spin 1s linear infinite;

        margin: 20px auto;

      }

      @keyframes spin {

        0% {

          transform: rotate(0deg);

        }

        100% {

          transform: rotate(360deg);

        }

      }

      .loader-container {

        display: flex;

        flex-direction: column;

        align-items: center;

        justify-content: center;

        height: 100%;

      }



      /* Footer Custom Styles */

      .footer-custom {

        margin-top: 2rem;

        text-align: center;

        padding: 1rem;

        background-color: var(--panel-bg);

        border-radius: 0.5rem;

        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);

        border: 1px solid var(--border-color);

      }

      .footer-link-main {

        color: var(--light-text);

        transition: color 0.3s;

        font-size: 0.875rem;

        text-decoration: none;

        display: block;

        margin-bottom: 0.5rem;

      }

      .footer-link-main:hover {

        color: var(--primary-color);

      }

      .footer-subtext {

        font-size: 0.75rem;

        color: var(--light-text);

        margin-top: 0.5rem;

      }

      .footer-link-sub {

        color: var(--secondary-color);

        text-decoration: none;

      }

      .footer-link-sub:hover {

        text-decoration: underline;

      }

      .footer-link-sub.bold {

        font-weight: 600;

      }

    </style>

  </head>

  <body>

    <div class="container">

      <aside class="sidebar">

        <div class="sidebar-header">

          <div class="top-row">

            <h3>ğŸ“‚ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…Ù„ÙØ§Øª</h3>

            <button id="dark-mode-toggle" title="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† / Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­">

              <i class="fa-solid fa-moon"></i>

            </button>

          </div>

          <select id="file-filter">

            <option value="all">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</option>

            <option value="pdf">Ù…Ù„ÙØ§Øª PDF</option>

            <option value="doc">Ù…Ø³ØªÙ†Ø¯Ø§Øª Word</option>

            <option value="xls">Ø¬Ø¯Ø§ÙˆÙ„ Excel</option>

            <option value="ppt">Ø¹Ø±ÙˆØ¶ PowerPoint</option>

            <option value="img">Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØ±</option>

            <option value="txt">Ù…Ù„ÙØ§Øª Ù†ØµÙŠØ©</option>

            <option value="html">Ù…Ù„ÙØ§Øª HTML</option>

            <option value="video">Ù…Ù„ÙØ§Øª ÙÙŠØ¯ÙŠÙˆ</option>

            <option value="audio">Ù…Ù„ÙØ§Øª ØµÙˆØªÙŠØ©</option>

          </select>

          <input

            type="text"

            id="search-input"

            placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„Ù..."

          />

        </div>

        <div class="table-container">

          <table id="file-table">

            <thead>

              <tr>

                <th class="col-seq">#</th>

                <th class="col-name">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>

                <th class="col-type">Ø§Ù„Ù†ÙˆØ¹</th>

              </tr>

            </thead>

            <tbody id="file-list"></tbody>

          </table>

        </div>

      </aside>

      <main class="main-content">

        <div class="viewer-controls">

          <div class="header-info">

            <h2>Ù…Ø³ØªØ¹Ø±Ø¶ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø¯Ø±Ø³Ø© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ø¨Ø¬Ø§Ø¯ÙŠØ©</h2>

            <span class="programmer-credit">Ø¨Ø±Ù…Ø¬Ø© : NMO</span>

          </div>

          <a href="#" id="download-btn" download

            >ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù<i class="fa-solid fa-download"></i

          ></a>

        </div>

        <div id="viewer">

          <div class="loader-message">

            Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ù…Ù† Ø§Ù„ÙÙ‡Ø±Ø³ Ù„Ø¹Ø±Ø¶Ù‡

            <br />

            (ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¨ÙŠØ¦Ø© GitHub Pages ÙÙ‚Ø·)

          </div>

        </div>

        <footer class="footer-custom">

          <a

            href="https://t.me/Interact2030"

            target="_blank"

            rel="noopener noreferrer"

            class="footer-link-main"

          >

            Ø¨Ø±Ù…Ø¬Ø© : NMO
            Ù€ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©.

          </a>

        </footer>

      </main>

    </div>



    <script>

      document.addEventListener("DOMContentLoaded", () => {

        const fileListElement = document.getElementById("file-list");

        const viewerElement = document.getElementById("viewer");

        const downloadBtn = document.getElementById("download-btn");

        const filterElement = document.getElementById("file-filter");

        const searchElement = document.getElementById("search-input");

        const darkModeToggle = document.getElementById("dark-mode-toggle");

        // --- 1. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Configuration) ---

        // --- 1. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Configuration) ---

        const CONFIG = {

          defaultFile: "ØªØ¹Ù„ÙŠÙ…Ø§Øª.pdf",

          // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ (Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† GitHub)

          repoInfo: {

            username: "ensanbinadam",

            repo: "doc_viewer",

            branch: "main",

          },

          pinnedFiles: ["ØªØ¹Ù„ÙŠÙ…Ø§Øª.pdf"],

          // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙƒÙ…Ø§ ØªÙØ¶Ù„

          folderOrder: [

            "Ø£ÙˆÙ„ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

            "Ø«Ø§Ù†ÙŠ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

            "Ø«Ø§Ù„Ø« Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

            "Ø±Ø§Ø¨Ø¹ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

            "Ø®Ø§Ù…Ø³ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

            "Ø³Ø§Ø¯Ø³ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",

          ],

        };



        // --- 1. ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ---

        function initDarkMode() {

          const isDark =

            localStorage.getItem("dark-mode") === "true" ||

            (window.matchMedia &&

              window.matchMedia("(prefers-color-scheme: dark)").matches &&

              localStorage.getItem("dark-mode") !== "false");



          if (isDark) {

            document.body.classList.add("dark-mode");

            darkModeToggle.innerHTML = '<i class="fa-solid fa-sun"></i>';

          } else {

            document.body.classList.remove("dark-mode");

            darkModeToggle.innerHTML = '<i class="fa-solid fa-moon"></i>';

          }

        }



        darkModeToggle.addEventListener("click", () => {

          document.body.classList.toggle("dark-mode");

          const isDark = document.body.classList.contains("dark-mode");

          localStorage.setItem("dark-mode", isDark);

          darkModeToggle.innerHTML = isDark

            ? '<i class="fa-solid fa-sun"></i>'

            : '<i class="fa-solid fa-moon"></i>';

        });



        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ù„Ù„Ù…Ø¬Ù„Ø¯Ø§Øª

        function toggleFolderVisibility(event) {

          const headerRow = event.currentTarget;

          const folderName = headerRow.dataset.folderName;

          const isExpanded = headerRow.dataset.isExpanded === "true";



          // Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ (Ø³Ù„ÙˆÙƒ Ø§Ù„Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ†)

          document

            .querySelectorAll("#file-list .folder-header")

            .forEach((otherHeader) => {

              if (otherHeader !== headerRow) {

                otherHeader.dataset.isExpanded = "false";

                otherHeader.querySelector(".arrow-icon").style.transform =

                  "rotate(0deg)";



                const otherFolderName = otherHeader.dataset.folderName;

                document

                  .querySelectorAll(

                    `#file-list tr[data-folder="${otherFolderName}"]`

                  )

                  .forEach((fileRow) => {

                    fileRow.style.display = "none";

                  });

              }

            });



          if (isExpanded) {

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØªÙˆØ­Ø§Ù‹ØŒ Ø£ØºÙ„Ù‚Ù‡

            headerRow.dataset.isExpanded = "false";

            headerRow.setAttribute("aria-expanded", "false");

            headerRow.querySelector(".arrow-icon").style.transform =

              "rotate(0deg)";

            document

              .querySelectorAll(`#file-list tr[data-folder="${folderName}"]`)

              .forEach((fileRow) => {

                fileRow.style.display = "none";

              });

          } else {

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØºÙ„Ù‚Ø§Ù‹ØŒ Ø§ÙØªØ­Ù‡

            headerRow.dataset.isExpanded = "true";

            headerRow.setAttribute("aria-expanded", "true");

            headerRow.querySelector(".arrow-icon").style.transform =

              "rotate(-90deg)";



            // Ø¹Ø±Ø¶ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø­Ø¯Ø¯

            document

              .querySelectorAll(`#file-list tr[data-folder="${folderName}"]`)

              .forEach((fileRow) => {

                // ÙÙ‚Ø· Ø§Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…Ø®ÙÙŠØ© Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø¨Ø­Ø« (Ø®Ø§ØµÙŠØ© data-isHiddenBySearch)

                if (fileRow.dataset.isHiddenBySearch !== "true") {

                  fileRow.style.display = "";

                }

              });

          }

        }



        // -----------------------------



        // Ø§Ù„Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† ÙƒØ§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø¹Ø¯ Ø¬Ù„Ø¨Ù‡Ø§

        let allFilesCache = [];



        async function fetchAndDisplayFiles() {

          // ØªÙØ±ÙŠØº Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„

          // viewerElement.innerHTML = `<div class="loader-message">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…Ù„ÙØ§Øª...</div>`;



          const { username, repo, branch } = CONFIG.repoInfo;



          // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹

          if (!username || !repo || username === "YOUR_USERNAME_HERE") {

            viewerElement.innerHTML = `<div class="loader-message" style="color: #e74c3c;">

                    Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¶Ø¨Ø· Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ (CONFIG.repoInfo).

                 </div>`;

            return;

          }



          try {

            // Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… GitHub API (Tree API Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨ØªÙƒØ±Ø§Ø±)

            const apiUrl = `https://api.github.com/repos/${username}/${repo}/git/trees/${branch}?recursive=1`;



            const response = await fetch(apiUrl);



            if (!response.ok) {

              if (response.status === 403) {

                throw new Error(

                  "ØªØ¬Ø§ÙˆØ²Øª Ø­Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ Ù…Ù† GitHub API. (Rate Limit Exceeded)"

                );

              }

              if (response.status === 404) {

                throw new Error(

                  `Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø£Ùˆ Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ù…Ø­Ø¯Ø¯. (${username}/${repo})`

                );

              }

              throw new Error(

                `ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ GitHub API. (${response.status})`

              );

            }



            const data = await response.json();



            if (!data.tree) {

              throw new Error("Ø¨Ù†ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© Ù…Ù† GitHub ØºÙŠØ± ØµØ­ÙŠØ­Ø©.");

            }



            // ØªØµÙÙŠØ© ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„ÙØ§Øª (ÙÙ‚Ø· Ø§Ù„Ù…Ù„ÙØ§Øª Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ documents)

            const allFilesData = data.tree

              .filter(

                (item) =>

                  item.path.startsWith("documents/") && item.type === "blob"

              )

              .map((item) => {

                // Ø­Ø°Ù Ø¨Ø§Ø¯Ø¦Ø© documents/ Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø±

                const relativePath = item.path.substring("documents/".length);

                const pathParts = relativePath.split("/");

                const fileName = pathParts.pop();

                const folderName =

                  pathParts.length > 0 ? pathParts[0] : "Ù…Ù„ÙØ§Øª Ø¹Ø§Ù…Ø©"; // Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±



                return {

                  name: fileName,

                  path: relativePath,

                  folder: folderName,

                  size: item.size,

                };

              });



            allFilesCache = allFilesData;



            // ØªØ±ØªÙŠØ¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª



            // ÙØµÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø«Ø¨ØªØ©

            const orderedPinned = CONFIG.pinnedFiles

              .filter((pinnedFile) =>

                allFilesData.some((f) => f.name === pinnedFile)

              )

              .map((name) => allFilesData.find((f) => f.name === name));



            const unpinnedFilesData = allFilesData.filter(

              (fileData) => !CONFIG.pinnedFiles.includes(fileData.name)

            );



            unpinnedFilesData.sort((a, b) => {

              // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ù„Ø¯ (Ø§Ù„ØµÙ)ØŒ Ø«Ù… Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³Ù…

              if (a.folder !== b.folder) {

                const indexA = CONFIG.folderOrder.indexOf(a.folder);

                const indexB = CONFIG.folderOrder.indexOf(b.folder);



                if (indexA !== -1 && indexB !== -1) return indexA - indexB;

                if (indexA !== -1) return -1;

                if (indexB !== -1) return 1;



                return a.folder.localeCompare(b.folder, "ar");

              }

              return a.name.localeCompare(b.name, "ar");

            });



            const filesData = [...orderedPinned, ...unpinnedFilesData];



            if (filesData.length === 0) {

              viewerElement.innerHTML = `<div class="loader-message">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„ÙØ§Øª ÙÙŠ Ù…Ø¬Ù„Ø¯ documents.</div>`;

              return;

            }



            // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ù„Ø¯

            const filesByFolder = filesData.reduce((acc, fileData) => {

              const folder = fileData.folder || "Ù…Ù„ÙØ§Øª Ø¹Ø§Ù…Ø©";

              if (!acc[folder]) {

                acc[folder] = [];

              }

              acc[folder].push(fileData);

              return acc;

            }, {});



            fileListElement.innerHTML = "";

            let seq = 1;

            let isFirstFolder = true;



            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ù„Ù„Ø¹Ø±Ø¶

            const sortedFolderNames = Object.keys(filesByFolder).sort(

              (a, b) => {

                const indexA = CONFIG.folderOrder.indexOf(a);

                const indexB = CONFIG.folderOrder.indexOf(b);

                if (indexA !== -1 && indexB !== -1) return indexA - indexB;

                if (indexA !== -1) return -1;

                if (indexB !== -1) return 1;

                return a.localeCompare(b, "ar");

              }

            );



            for (const folderName of sortedFolderNames) {

              const folderFiles = filesByFolder[folderName];



              // 1. Ø¥Ù†Ø´Ø§Ø¡ Ø²Ø± Ø§Ù„Ù…Ø¬Ù„Ø¯ (Folder Header/Accordion Button)

              const folderHeaderTr = document.createElement("tr");

              folderHeaderTr.className = "folder-header";

              folderHeaderTr.dataset.folderName = folderName;

              folderHeaderTr.dataset.isExpanded = isFirstFolder

                ? "true"

                : "false";



              folderHeaderTr.setAttribute("role", "button");

              folderHeaderTr.setAttribute("tabindex", "0");

              folderHeaderTr.setAttribute(

                "aria-expanded",

                isFirstFolder ? "true" : "false"

              );



              folderHeaderTr.innerHTML = `

                        <td colspan="3" class="folder-header-content">

                            <div class="folder-title">

                                <i class="fa-solid fa-chevron-left arrow-icon"></i>

                                <i class="fa-solid fa-folder-open folder-icon"></i>

                                <span>${folderName}</span>

                                <span class="file-count">(${folderFiles.length})</span>

                            </div>

                        </td>

                    `;

              fileListElement.appendChild(folderHeaderTr);



              folderHeaderTr.addEventListener("click", toggleFolderVisibility);

              folderHeaderTr.addEventListener("keydown", (e) => {

                if (e.key === "Enter" || e.key === " ") {

                  e.preventDefault();

                  toggleFolderVisibility(e);

                }

              });



              // 2. Ø¥Ù†Ø´Ø§Ø¡ ØµÙÙˆÙ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¬Ù„Ø¯

              seq = 1;

              folderFiles.forEach((fileData) => {

                const tr = document.createElement("tr");

                const fileType = getFileType(fileData.name);

                tr.dataset.filename = fileData.name;

                tr.dataset.filepath = fileData.path;

                tr.dataset.filetype = fileType;

                tr.dataset.folder = folderName;

                tr.dataset.isHiddenBySearch = "false";



                if (!isFirstFolder) {

                  tr.style.display = "none";

                }



                const tdSeq = document.createElement("td");

                tdSeq.className = "col-seq";

                tdSeq.textContent = seq++;



                const tdName = document.createElement("td");

                tdName.className = "col-name";

                // Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯ Ù„Ù„Ø¹Ø±Ø¶

                tdName.textContent =

                  fileData.name.substring(0, fileData.name.lastIndexOf(".")) ||

                  fileData.name;



                const tdType = document.createElement("td");

                tdType.className = "col-type";

                const icon = document.createElement("i");

                icon.className = getFileIconClass(fileData.name);

                tdType.appendChild(icon);



                tr.appendChild(tdSeq);

                tr.appendChild(tdName);

                tr.appendChild(tdType);



                tr.addEventListener("click", () =>

                  displayFile(fileData.name, fileData.path, tr)

                );

                fileListElement.appendChild(tr);

              });



              isFirstFolder = false;

            }



            const defaultFileElement = Array.from(

              fileListElement.children

            ).find((li) => li.dataset.filename === CONFIG.defaultFile);

            if (defaultFileElement) {

              defaultFileElement.click();

            } else {

              const firstFileRow = fileListElement.querySelector(

                "tr:not(.folder-header)"

              );

              if (firstFileRow) {

                const filename = firstFileRow.dataset.filename;

                const filepath = firstFileRow.dataset.filepath;

                displayFile(filename, filepath, firstFileRow);

              }

            }



            filterElement.addEventListener("change", searchAndFilterFiles);

            searchElement.addEventListener("input", searchAndFilterFiles);

          } catch (error) {

            viewerElement.innerHTML = `<div class="loader-message" style="color: #e74c3c;">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª:<br>${error.message}</div>`;

            console.error(error);

          }

        }



        function searchAndFilterFiles() {

          const selectedType = filterElement.value;

          const searchTerm = searchElement.value.toLowerCase();

          const rows = document.querySelectorAll(

            "#file-list tr:not(.folder-header)"

          );



          let visibleFolders = new Set(); // Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ø¨Ø­Ø« Ù…Ø·Ø§Ø¨Ù‚Ø©



          rows.forEach((row) => {

            const fileName = row.dataset.filename.toLowerCase();

            const filePath = row.dataset.filepath.toLowerCase();

            const fileType = row.dataset.filetype;

            const folderName = row.dataset.folder; // Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù„Ø¯



            const typeMatch =

              selectedType === "all" || fileType === selectedType;

            const searchMatch =

              fileName.includes(searchTerm) || filePath.includes(searchTerm);



            if (typeMatch && searchMatch) {

              row.style.display = "";

              row.dataset.isHiddenBySearch = "false";

              visibleFolders.add(folderName);

            } else {

              row.style.display = "none";

              row.dataset.isHiddenBySearch = "true";

            }

          });



          // **Ù…Ù†Ø·Ù‚ Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙˆØªØ¹Ø¯ÙŠÙ„ Ø­Ø§Ù„ØªÙ‡Ø§**

          document

            .querySelectorAll("#file-list .folder-header")

            .forEach((folderRow) => {

              const folderName = folderRow.dataset.folderName;

              const hasVisibleFiles = visibleFolders.has(folderName);



              if (searchTerm !== "" || selectedType !== "all") {

                // ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø­Ø«: Ø£Ø¸Ù‡Ø± ÙÙ‚Ø· Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ø¬Ø¹Ù„Ù‡Ø§ Ù…ÙØªÙˆØ­Ø©

                if (hasVisibleFiles) {

                  folderRow.style.display = "";

                  folderRow.dataset.isExpanded = "true";

                  folderRow.querySelector(".arrow-icon").style.transform =

                    "rotate(-90deg)";

                } else {

                  folderRow.style.display = "none";

                }

              } else {

                // ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Ø¨Ø¹Ø¯ Ù…Ø³Ø­ Ø§Ù„Ø¨Ø­Ø«): Ø£Ø¸Ù‡Ø± ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ø­ØªÙØ¸ Ø¨Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙŠ/Ø§Ù„ÙØªØ­

                folderRow.style.display = "";



                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù…ØºÙ„Ù‚Ù‹Ø§ØŒ ÙŠØ¬Ø¨ Ø¥Ø®ÙØ§Ø¡ Ù…Ù„ÙØ§ØªÙ‡ Ø­ØªÙ‰ ÙˆØ¥Ù† ÙƒØ§Ù†Øª Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« ÙØ§Ø±ØºØ©

                if (folderRow.dataset.isExpanded === "false") {

                  document

                    .querySelectorAll(

                      `#file-list tr[data-folder="${folderName}"]`

                    )

                    .forEach((fileRow) => {

                      fileRow.style.display = "none";

                    });

                } else {

                  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØªÙˆØ­Ø§Ù‹ØŒ Ø£Ø¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§ØªÙ‡ (Ø·Ø§Ù„Ù…Ø§ Ù„Ù… ØªØ®ÙÙ‡Ø§ Ø§Ù„ØªØµÙÙŠØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©)

                  document

                    .querySelectorAll(

                      `#file-list tr[data-folder="${folderName}"][data-isHiddenBySearch="false"]`

                    )

                    .forEach((fileRow) => {

                      fileRow.style.display = "";

                    });

                }

              }

            });

        }



        function getFileIconClass(filename) {

          const extension = filename.split(".").pop().toLowerCase();

          const solid = "fa-solid ";

          if (extension === "pdf") return solid + "fa-file-pdf";

          if (["doc", "docx"].includes(extension))

            return solid + "fa-file-word";

          if (["xls", "xlsx"].includes(extension))

            return solid + "fa-file-excel";

          if (["ppt", "pptx"].includes(extension))

            return solid + "fa-file-powerpoint";

          if (

            ["png", "jpg", "jpeg", "gif", "svg", "webp", "bmp"].includes(

              extension

            )

          )

            return solid + "fa-file-image";

          if (extension === "txt") return solid + "fa-file-lines";

          if (["html", "htm"].includes(extension))

            return solid + "fa-file-code";

          if (["mp4", "webm", "ogg", "mov"].includes(extension))

            return solid + "fa-file-video";

          if (["mp3", "wav", "ogg", "m4a"].includes(extension))

            return solid + "fa-file-audio";

          return solid + "fa-file-archive";

        }



        function getFileType(filename) {

          const extension = filename.split(".").pop().toLowerCase();

          if (extension === "pdf") return "pdf";

          if (["doc", "docx"].includes(extension)) return "doc";

          if (["xls", "xlsx"].includes(extension)) return "xls";

          if (["ppt", "pptx"].includes(extension)) return "ppt";

          if (

            ["png", "jpg", "jpeg", "gif", "svg", "webp", "bmp"].includes(

              extension

            )

          )

            return "img";

          if (extension === "txt") return "txt";

          if (["html", "htm"].includes(extension)) return "html";

          if (["mp4", "webm", "ogg", "mov"].includes(extension)) return "video";

          if (["mp3", "wav", "ogg", "m4a"].includes(extension)) return "audio";

          return "other";

        }



        // ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªÙ‚Ø¨Ù„ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ (filepath)

        function displayFile(filename, filepath, activeListItem) {

          document

            .querySelectorAll("#file-list tr")

            .forEach((item) => item.classList.remove("active"));

          activeListItem.classList.add("active");



          // Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Spinner)

          viewerElement.innerHTML = `

            <div class="loader-container">

                <div class="spinner"></div>

                <div class="loader-message">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©...</div>

            </div>

          `;



          const fileExtension = filename.split(".").pop().toLowerCase();



          // **Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„**

          const fileUrlForDownload = `documents/${filepath}`;



          let viewerIframe;



          if (

            fileExtension === "pdf" ||

            ["html", "htm"].includes(fileExtension)

          ) {

            viewerIframe = `<iframe src="${fileUrlForDownload}"></iframe>`;

          } else if (

            ["png", "jpg", "jpeg", "gif", "svg", "webp", "bmp"].includes(

              fileExtension

            )

          ) {

            viewerIframe = `<img src="${fileUrlForDownload}" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© ${filename}">`;

          } else if (fileExtension === "txt") {

            viewerIframe = `<iframe src="${fileUrlForDownload}"></iframe>`;

          } else if (["mp4", "webm", "ogg", "mov"].includes(fileExtension)) {

            // Ø¯Ø¹Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ

            viewerIframe = `

                <video controls width="100%" height="100%" style="max-height: 100%; background: #000;">

                    <source src="${fileUrlForDownload}" type="video/${

              fileExtension === "mov" ? "mp4" : fileExtension

            }">

                    Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.

                </video>

            `;

          } else if (["mp3", "wav", "m4a"].includes(fileExtension)) {

            // Ø¯Ø¹Ù… Ø§Ù„ØµÙˆØª

            viewerIframe = `

                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">

                    <i class="fa-solid fa-music" style="font-size: 5em; color: var(--icon-color-audio); margin-bottom: 20px;"></i>

                    <audio controls style="width: 80%;">

                        <source src="${fileUrlForDownload}" type="audio/${

              fileExtension === "m4a" ? "mp4" : fileExtension

            }">

                        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.

                    </audio>

                    <h3 style="margin-top: 20px;">${filename}</h3>

                </div>

            `;

          } else if (

            [

              "docx",

              "pptx",

              "xlsx",

              "doc",

              "ppt",

              "xls",

              "dotx",

              "dotm",

              "potx",

              "potm",

              "xltx",

              "xltm",

            ].includes(fileExtension)

          ) {

            const { username, repo } = CONFIG.repoInfo;



            // **Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ Ø±Ø§Ø¨Ø· RAW Ù„Ø®Ø¯Ù…Ø© Office Online Viewer**

            const rawFileUrl = `https://raw.githubusercontent.com/${username}/${repo}/main/documents/${encodeURIComponent(

              filepath

            )}`;



            const viewerUrl = `https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(

              rawFileUrl

            )}`;

            viewerIframe = `<iframe src="${viewerUrl}"></iframe>`;

          } else {

            viewerIframe = `<div class="loader-message">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù Ù‡Ø°Ø§ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… Ù„Ù„Ø¹Ø±Ø¶.</div>`;

          }



          viewerElement.innerHTML = viewerIframe;

          downloadBtn.href = fileUrlForDownload;

          downloadBtn.style.display = "inline-flex";

        }



        // --- 2. ØªÙ†ÙÙŠØ° Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ ---

        initDarkMode();

        fetchAndDisplayFiles();

      });

    </script>

  </body>

</html>

